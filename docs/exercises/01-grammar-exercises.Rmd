---
title: "Hands–On Data Visualization with ggplot2 – Exercises Segment 1 – Cédric Scherer"
author: "Cédric Scherer"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    seal: false
    css: ["./css/style.css"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      slideNumberFormat:  |
        <div class="progress-bar-container">
          <div class="progress-bar" style="width: calc(%current% / %total% * 100%);">
          </div>
        </div>
      ratio: '16:9'
---
class: inverse, center
background-image: url("img/darklight_RichardStrozynski.jpg")
background-size: contain

```{r options, include = FALSE, purl=FALSE}
hook_source <- knitr::knit_hooks$get('source')
knitr::knit_hooks$set(source = function(x, options) {
  x <- stringr::str_replace(x, "^[[:blank:]]?([^*].+?)[[:blank:]]*#<<[[:blank:]]*$", "*\\1")
  hook_source(x, options)
})

knitr::opts_chunk$set(
  echo = TRUE, 
  warning = FALSE, 
  message = FALSE, 
  collapse = TRUE,
  fig.width = 16,
  fig.height = 5.7,
  fig.allign = 'center',
  fig.retina = 2,
  dev = "ragg_png", 
  res = 1000
)

Sys.setlocale("LC_TIME", "C")

options(width = 80)
```

<br><br>
# Hands–On Data Visualization with <code style='color:#ebc500;'>ggplot2</code><br><b style='font-size:25pt;color:#a7a7a7;'>Exercises Segment 1: The Grammar of Graphics</b>
<br><br><br><br><br><br><br>
#### Dr. Cédric Scherer<b style='color:#ccba56;font-weight:400;line-height:150%;'><br>Pearson|O'Reilly Live Training Session<br>September 3, 2021</b><br>

```{r prep, echo=FALSE}
library(tidyverse)
library(conflicted)
filter <- dplyr::filter
theme_set(theme_grey(base_size = 16, base_family = "DM Sans"))
```

---

## Exercise 1:

* Import the data set on Chicago weather data:<br>https://raw.githubusercontent.com/z3tt/ggplot-courses/master/data/chicago-nmmaps.csv
  
* Inspect the data.

---

## Import the Data

```{r import-chic}
chic <- readr::read_csv(
  "https://raw.githubusercontent.com/z3tt/ggplot-courses/master/data/chicago-nmmaps.csv"
)

# chic <- readr::read_csv("data/chicago-nmmaps.csv")
```

---

## Inspect the Data

```{r inspect-chic-1}
str(chic)
```

---

## Inspect the Data

```{r inspect-chic-2}
summary(chic)
```

---

## Inspect the Data

```{r inspect-chic-3}
tibble::glimpse(chic)
```

---

## Inspect the Data

```{r inspect-chic-4}
range(chic$date)

range(chic$temp)

unique(chic$season)

unique(chic$year)
```

---

## Exercise 2:

* Create a scatter plot of temperature (`temp`) versus day (`date`).

* Color the points by season (`season`).

* Color the points by year (`year`).
  + <span style='color:grey;'>What's the problem? How could you fix it?</span>

* **Bonus:** Turn the scatter plot, colored by season, into a line plot.
  + <span style='color:grey;'>What's the problem? How could you fix it?</span>

---

## Scatter Plot Temperature vs Day

```{r plot-chic-scatter}
ggplot(chic, aes(date, temp)) + 
  geom_point()
```

---

## Scatter Plot Colored by Season

```{r plot-chic-scatter-season}
ggplot(chic, aes(date, temp, color = season)) + 
  geom_point()
```

---

## Scatter Plot Colored by Year

```{r plot-chic-scatter-year-cont}
ggplot(chic, aes(date, temp, color = year)) + 
  geom_point()
```

---

## Scatter Plot Colored by Year

```{r plot-chic-scatter-year-fct}
ggplot(chic, aes(date, temp, color = factor(year))) + 
  geom_point()
```

---

## Scatter Plot Colored by Year

```{r plot-chic-line-season}
ggplot(chic, aes(date, temp, color = season)) + 
  geom_line()
```

---

## Scatter Plot Colored by Year

```{r plot-chic-line-season-fixed}
ggplot(chic, aes(date, temp, color = season, group = year)) + 
  geom_line()
```
