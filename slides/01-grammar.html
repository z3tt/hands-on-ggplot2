<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Hands–On Data Visualization with ggplot2 – Segment 1 – Cédric Scherer</title>
    <meta charset="utf-8" />
    <meta name="author" content="Cédric Scherer" />
    <meta name="date" content="2021-08-10" />
    <script src="libs/header-attrs-2.9/header-attrs.js"></script>
    <link rel="stylesheet" href="css/style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: inverse, center
background-image: url("img/darklight_RichardStrozynski.jpg")
background-size: contain



&lt;br&gt;&lt;br&gt;
# Hands–On Data Visualization with &lt;code style='color:#ebc500;'&gt;ggplot2&lt;/code&gt;&lt;br&gt;&lt;b style='font-size:25pt;color:#a7a7a7;'&gt;Segment 1: The Grammar of Graphics&lt;/b&gt;
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
#### Dr. Cédric Scherer&lt;b style='color:#ccba56;font-weight:400;line-height:150%;'&gt;&lt;br&gt;Pearson|O'Reilly Live Training Session&lt;br&gt;September 3, 2021&lt;/b&gt;&lt;br&gt;



---
background-image: url("img/portfolio/Cards.png")
background-position: center
background-size: contain

---
class: center
background-image: url("img/rtidy2.png")
background-size: contain

---
class: inverse, center

### Data Visualizations for Scientific Publications &amp; Talks

.pull-left[
&lt;p style='text-align:center;'&gt;&lt;img src="img/portfolio/Fig2_disease-data_full_log.png" style='width:91%;border-style:solid; border-color:#606060;'&gt;&lt;br&gt;&lt;capinv&gt;Scherer et al. 2019 Journal of Animal Ecology&lt;/capinv&gt;&lt;/p&gt;
]

.pull-right[
&lt;p style='text-align:center;'&gt;&lt;img src="img/portfolio/SwiFCoIBMove_density.png" style='width:92%;border-style:solid; border-color:#606060;'&gt;&lt;br&gt;&lt;capinv&gt;Scherer et al. 2020 Oikos&lt;/capinv&gt;&lt;/p&gt;
&lt;p style='text-align:center;'&gt;&lt;img src="img/portfolio/NLMR_case_study.png" style='width:92%;border-style:solid; border-color:#606060;'&gt;&lt;br&gt;&lt;capinv&gt;Sciaini et al. 2019 Methods in Ecology &amp; Evolution&lt;/capinv&gt;&lt;/p&gt;
]

---
class: inverse, center

### Data Visualizations for Client Projects

&lt;img src="img/portfolio/jupiter_daily_ma_candles.png", height=243px, style="position:absolute; top:16%; left:2%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/20201116_FP_2_5_rating_lolli_1.png", height=243px, style="position:absolute; top:16%; left:37.97%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/3_time_eandy_highlight_1.png", height=243px, style="position:absolute; top:16%; right:2%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/20200514_FP_12_1_statement_boykott_doughnut_1.png", height=259px, style="position:absolute; top:54%; left:2%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/20200723_FP_2_jpmorgan_line_change_1.png", height=259px, style="position:absolute; top:54%; left:26.7%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/fig_g3.png", height=259px, style="position:absolute; top:54%; right:2%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

---
class: inverse, center

### Data Visualizations as Personal Projects

&lt;img src="img/portfolio/20200630_TT_2020_27_Xmen_annotated.png", height=273px, style="position:absolute; top:14%; left:2%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/03_Polygons_GlobalMortality.png", height=273px, style="position:absolute; top:14%; left:32.9%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/2020_28_CoffeeRatings.png", height=273px, style="position:absolute; top:14%; right:2%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/19_global_change.png", height=266px, style="position:absolute; top:55.6%; left:2%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

&lt;img src="img/portfolio/CheetahMap_rcarto_sd.png", height=266px, style="position:absolute; top:55.6%; right:2%; border-style:solid; border-color:#606060;"&gt;&lt;/img&gt;

---
class: inverse, center
exclude: true

#### cedricscherer.com

&lt;p style='text-align:center;'&gt;&lt;img src="img/portfolio/blog.png" style='width:53%;'&gt;&lt;br&gt;&lt;b style='color:lightgrey;font-size:12pt;'&gt;cedricscherer.netlify.com&lt;/b&gt;&lt;/p&gt;

---
class: inverse, center
exclude: true

.pull-left[
&lt;p style='text-align:center;'&gt;&lt;img src="img/portfolio/blog-tutorial.png" style='width:64%;'&gt;&lt;/p&gt;
]

.pull-right[
&lt;p style='text-align:center;'&gt;&lt;img src="img/portfolio/blog-evol.png" style='width:64%;'&gt;&lt;/p&gt;
]

---
class: inverse, center
exclude: true

#### github.com/z3tt

&lt;p style='text-align:center;'&gt;&lt;img src="img/portfolio/github.png" style='width:46%;'&gt;&lt;br&gt;&lt;b style='color:lightgrey;font-size:12pt;'&gt;github.com/z3tt&lt;/b&gt;

---
class: center, inverse

&lt;br&gt;
&lt;p style="text-align:center;"&gt;&lt;img src="img/ggplot2.png" style="width: 20%"&gt;
&lt;br&gt;&lt;br&gt;

&lt;b style='font-size:28pt;'&gt;&lt;code style='color:#ebc500;'&gt;ggplot2&lt;/code&gt; is a system for declaratively creating graphics,&lt;br&gt;based on "The Grammar of Graphics" (Wilkinson, 2005).&lt;/b&gt;

--

&lt;br&gt;
&lt;span style='font-size:22pt;'&gt;You provide the data, tell &lt;code style='color:#ebc500;font-weight:700;'&gt;ggplot2&lt;/code&gt; how to &lt;b&gt;map variables to aesthetics&lt;/b&gt;,&lt;br&gt;what graphical primitives to use, and it takes care of the details.&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
&lt;i style='font-size:12pt;color:grey;'&gt;ggplot2 package description&lt;/i&gt;

---
&lt;br&gt;&lt;br&gt;

# Advantages of `ggplot2`

&lt;br&gt;
&lt;ul style='font-size:22pt;color:#28a87d;font-weight:700;'&gt;
&lt;li&gt;consistent underlying grammar of graphics (Wilkinson, 2005)&lt;/li&gt;
&lt;/ul&gt;

---
&lt;br&gt;&lt;br&gt;

# Advantages of `ggplot2`

&lt;br&gt;
&lt;ul style='font-size:22pt;color:#28a87d;font-weight:700;'&gt;
&lt;li&gt;consistent underlying grammar of graphics (Wilkinson, 2005)&lt;/li&gt;
&lt;br&gt;
&lt;li&gt;very flexible, layered plot specification&lt;/li&gt; 
&lt;/ul&gt;

---
&lt;br&gt;&lt;br&gt;

# Advantages of `ggplot2`

&lt;br&gt;
&lt;ul style='font-size:22pt;color:#28a87d;font-weight:700;'&gt;
&lt;li&gt;consistent underlying grammar of graphics (Wilkinson, 2005)&lt;/li&gt;
&lt;br&gt;
&lt;li&gt;very flexible, layered plot specification&lt;/li&gt; 
&lt;br&gt;
&lt;li&gt;theme system for polishing plot appearance&lt;/li&gt;
&lt;/ul&gt;

---
&lt;br&gt;&lt;br&gt;

# Advantages of `ggplot2`

&lt;br&gt;
&lt;ul style='font-size:22pt;color:#28a87d;font-weight:700;'&gt;
&lt;li&gt;consistent underlying grammar of graphics (Wilkinson, 2005)&lt;/li&gt;
&lt;br&gt;
&lt;li&gt;very flexible, layered plot specification&lt;/li&gt; 
&lt;br&gt;
&lt;li&gt;theme system for polishing plot appearance&lt;/li&gt;
&lt;br&gt;  
&lt;li&gt;active and helpful community&lt;/li&gt;
&lt;/ul&gt;

---
class: center, middle

&lt;img src="img/ah_ggplot2_exploratory.png" style='width:53%;'&gt;&lt;br&gt;&lt;cap&gt;Illustration by Allison Horst&lt;/cap&gt;

---
class: center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/basic_ggplots.png" style='width:80%;'&gt;&lt;br&gt;&lt;cap&gt;Source: Rstudio (ggplot2.tidyverse.org)&lt;/cap&gt;&lt;/p&gt;

---
class: center, middle

&lt;img src="img/ah_ggplot2_masterpiece.png" style='width:64%;'&gt;&lt;br&gt;&lt;cap&gt;Illustration by Allison Horst&lt;/cap&gt;

---
class: inverse, center, middle

# &lt;b style='font-size:70pt;'&gt;The &lt;code style='color:#ebc500;'&gt;ggplot2&lt;/code&gt; Showcase&lt;/b&gt;&lt;br&gt;&lt;br&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/bbc-gallery.png" style='width:90%;'&gt;&lt;br&gt;&lt;capinv&gt;Collection of BBC Graphics&lt;br&gt;&lt;span style='color:grey;font-size:8pt;'&gt;(modified from bbc.github.io/rcookbook)&lt;/span&gt;&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/bbc-gallery-quote.png" style='width:90%;'&gt;&lt;br&gt;&lt;capinv&gt;Collection of BBC Graphics&lt;br&gt;&lt;span style='color:grey;font-size:8pt;'&gt;(modified from bbc.github.io/rcookbook)&lt;/span&gt;&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/20201013_OurWorldInData_emissions_1.png" style='width:73%;'&gt;
&lt;br&gt;&lt;capinv&gt;Reworked OurWorldInData Graph&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/2020_31_PalmerPenguins.png" style='width:32%;'&gt;
&lt;br&gt;&lt;capinv&gt;Contribution to #TidyTuesday 2020/31&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/21_downwards_not_really_umpf.png" style='width:80%;'&gt;
&lt;br&gt;&lt;capinv&gt;Contribution to #30DayChartChallenge 2021&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/europe_sprengler.jpeg" style='width:49%;'&gt;&lt;br&gt;&lt;capinv&gt;European Elections by Torsten Sprenger&lt;br&gt;&lt;span style='color:grey;font-size:8pt;'&gt;(twitter.com/spren9er/status/1138000009306234880)&lt;/span&gt;&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/20200307_TT_2020_08_CarbonFoodprint_alt.png" style='width:73%;'&gt;
&lt;br&gt;&lt;capinv&gt;Contribution to #TidyTuesday&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle
exclude: true

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/20190908_SWD_2019_09_Uncertainty.png" style='width:73%;'&gt;
&lt;br&gt;&lt;capinv&gt;Contribution to #SWDchallenge&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/SWD_2020_01_SmallMultiples_grey.png" style='width:100%;'&gt;&lt;br&gt;&lt;capinv&gt;Contribution to #SWDchallenge&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle
exclude: true

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/20200630_corona_map_yday_latest_1.png" style='width:60%;'&gt;&lt;br&gt;&lt;capinv&gt;Personal Project "The Worst Days So Far"&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/jack_davison.png" style='width:40%;'&gt;&lt;br&gt;&lt;capinv&gt;#TidyTuesday Contribution by Jack Davison&lt;br&gt;&lt;span style='color:grey;font-size:8pt;'&gt;(github.com/jack-davison/tidytuesday)&lt;/span&gt;&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/20210131_BES_CheetahMap_rcarto_hd.png" style='width:65%;'&gt;&lt;br&gt;&lt;capinv&gt;Contribution to the BES MoveMap Contest&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/swiss_map.png" style='width:65%;'&gt;&lt;br&gt;&lt;capinv&gt;Bivariate Choropleth Map by Timo Gossenbacher&lt;br&gt;&lt;span style='color:grey;font-size:8pt;'&gt;(timogrossenbacher.ch/2019/04/bivariate-maps-with-ggplot2-and-sf)&lt;/span&gt;&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

.pull-left[
&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/gganimate-hurricane.gif" style='width:71%;'&gt;&lt;br&gt;&lt;capinv&gt;Example of the {gganimate} Package&lt;br&gt;&lt;span style='color:grey;font-size:8pt;'&gt;(github.com/thomasp85/gganimate/wiki)&lt;/span&gt;&lt;/capinv&gt;&lt;/p&gt;
]

.pull-right[
&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/dwd_anim_diff_yrs_short.gif" style='width:100%;'&gt;&lt;br&gt;&lt;capinv&gt;Personal Project&lt;/capinv&gt;&lt;/p&gt;
]

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/genart.png" style='width:71%;'&gt;&lt;br&gt;&lt;capinv&gt;Generative art by Thomas Lin Pedersen&lt;br&gt;&lt;/capinv&gt;&lt;/p&gt;

---
class: inverse, center, middle

# &lt;b style='font-size:70pt;color:#ebc500;'&gt;The Setup&lt;/b&gt;&lt;br&gt;&lt;br&gt;

---
## The Package

&lt;span style='font-size:16pt;'&gt;`ggplot2` is a **data visualization package** for the programming language `R` created by Hadley Wickham.&lt;/span&gt;


```r
install.packages("ggplot2")
library(ggplot2)
```

--

&lt;span style='font-size:16pt;'&gt;`ggplot2` is part of the [`tidyverse`](https://blog.rstudio.org/2016/09/15/tidyverse-1-0-0/), a set of packages to manipulate and explore data.&lt;/span&gt;


```r
install.packages("tidyverse")
library(tidyverse)
```

&lt;p style="text-align:right;"&gt;&lt;img src="img/tidyverse.png" style="width: 58%"&gt;&lt;font color="grey" size=2&gt;&lt;i&gt;Source: dicook.org/files/rstudio/#3&lt;/i&gt;&lt;/font&gt;&lt;/p&gt;

---

## The Data Set

We use **cryptocurrency financial data**, pulled from [CoinMarketCap.com](https://www.kaggle.com/philmohun/cryptocurrency-financial-data).&lt;br&gt;

&lt;p style='text-align:left;'&gt;&lt;img src="img/data-kaggle.png" style='width:59%;'&gt;

---

We limit the data to the period 08/2017–12/2019 and the top 4 cryptocurrencies:

![](./img/data.png)

---
class: inverse, center, middle

# &lt;b style='font-size:70pt;color:#ebc500;'&gt;Import the Data&lt;/b&gt;&lt;br&gt;&lt;br&gt;

---

## Import the Data

Using the `read_csv()` function form the `{readr}` package, we can read the data directly from the web:


```r
url &lt;- "https://raw.githubusercontent.com/z3tt/hands-on-ggplot2/main/data/crypto_cleaned.csv"

data &lt;- readr::read_csv(url)
```

---

## Short Explanation of `::`

&lt;br&gt;The so–called **namespace** allows to access functions from a package directly without loading it first.

&lt;code style='font-size:30pt;'&gt;packagename::function(argument)&lt;/code&gt;

--

&lt;br&gt;Furthermore, it helps readers to understand from which package a function is imported from.

---

## Import the Data

Using the `read_csv()` function form the `{readr}` package, we can read the data directly from the web:


```r
url &lt;- "https://raw.githubusercontent.com/z3tt/hands-on-ggplot2/main/data/crypto_cleaned.csv"

data &lt;- readr::read_csv(url)

*data
## # A tibble: 2,812 x 9
##    currency     date        open  high   low close  year month  yday
##    &lt;chr&gt;        &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 binance-coin 2019-12-04  15.4  15.7  15.0  15.3  2019    12   338
##  2 binance-coin 2019-12-03  15.2  15.6  15.0  15.3  2019    12   337
##  3 binance-coin 2019-12-02  15.5  15.7  15.2  15.2  2019    12   336
##  4 binance-coin 2019-12-01  15.7  15.7  15.0  15.5  2019    12   335
##  5 binance-coin 2019-11-30  16.3  16.4  15.5  15.7  2019    11   334
##  6 binance-coin 2019-11-29  15.7  16.3  15.6  16.3  2019    11   333
##  7 binance-coin 2019-11-28  16.1  16.2  15.6  15.7  2019    11   332
##  8 binance-coin 2019-11-27  15.5  16.2  14.9  16.1  2019    11   331
##  9 binance-coin 2019-11-26  15.3  15.9  15.2  15.5  2019    11   330
## 10 binance-coin 2019-11-25  15.3  15.7  14.2  15.3  2019    11   329
## # ... with 2,802 more rows
```

---

## Import the Data

Of course, one can import local files as well:


```r
data_local &lt;- readr::read_csv("data/crypto_cleaned.csv")

data_local
## # A tibble: 2,812 x 9
##    currency     date        open  high   low close  year month  yday
##    &lt;chr&gt;        &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 binance-coin 2019-12-04  15.4  15.7  15.0  15.3  2019    12   338
##  2 binance-coin 2019-12-03  15.2  15.6  15.0  15.3  2019    12   337
##  3 binance-coin 2019-12-02  15.5  15.7  15.2  15.2  2019    12   336
##  4 binance-coin 2019-12-01  15.7  15.7  15.0  15.5  2019    12   335
##  5 binance-coin 2019-11-30  16.3  16.4  15.5  15.7  2019    11   334
##  6 binance-coin 2019-11-29  15.7  16.3  15.6  16.3  2019    11   333
##  7 binance-coin 2019-11-28  16.1  16.2  15.6  15.7  2019    11   332
##  8 binance-coin 2019-11-27  15.5  16.2  14.9  16.1  2019    11   331
##  9 binance-coin 2019-11-26  15.3  15.9  15.2  15.5  2019    11   330
## 10 binance-coin 2019-11-25  15.3  15.7  14.2  15.3  2019    11   329
## # ... with 2,802 more rows
```

--

This assumes that you have placed the file in a folder called `data` in your working directory.  
You can specify this directory via `setwd()` or, and preferably, use R projects.

---
class: inverse, center, middle

# &lt;b style='font-size:70pt;'&gt;The Structure of&lt;br&gt;&lt;code style='color:#ebc500;'&gt;ggplot2&lt;/code&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;
# &lt;span style='font-size:40pt;color:#a7a7a7;'&gt;"The Grammar of Graphics"&lt;/span&gt;&lt;br&gt;&lt;br&gt;

---

## The Structure of `ggplot2`

&lt;br&gt;
&lt;table style='width:100%;font-size:15pt;font-family:DM Sans;'&gt;
  &lt;tr&gt;
    &lt;th&gt;Layer&lt;/th&gt;
    &lt;th&gt;Function&lt;/th&gt;
    &lt;th&gt;Explanation&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Data&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;ggplot(data)&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The raw data that you want to visualise.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Aesthetics&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;aes()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Aesthetic mappings of the geometric and statistical objects.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Layers&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;geom_*()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code&gt;stat_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The geometric shapes and statistical summaries representing the data.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

---

## The Structure of `ggplot2`

&lt;br&gt;
&lt;table style='width:100%;font-size:15pt;font-family:DM Sans;'&gt;
  &lt;tr&gt;
    &lt;th&gt;Layer&lt;/th&gt;
    &lt;th&gt;Function&lt;/th&gt;
    &lt;th&gt;Explanation&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Data&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;ggplot(data)&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The raw data that you want to visualise.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Aesthetics&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;aes()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Aesthetic mappings of the geometric and statistical objects.&lt;/td&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Layers&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;geom_*()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code&gt;stat_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The geometric shapes and statistical summaries representing the data.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Scales&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;scale_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Maps between the data and the aesthetic dimensions.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Coordinate System&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;coord_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Maps data into the plane of the data rectangle.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Facets&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;facet_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The arrangement of the data into a grid of plots.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Visual Themes&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;theme()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code&gt;theme_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The overall visual defaults of a plot.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

---

## The Structure of `ggplot2`

&lt;br&gt;
&lt;table style='width:100%;font-size:15pt;font-family:DM Sans;'&gt;
  &lt;tr&gt;
    &lt;th&gt;Layer&lt;/th&gt;
    &lt;th&gt;Function&lt;/th&gt;
    &lt;th&gt;Explanation&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Data&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;ggplot(data)&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The raw data that you want to visualise.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Aesthetics&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;aes()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Aesthetic mappings of the geometric and statistical objects.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Layers&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;geom_*()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code&gt;stat_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The geometric shapes and statistical summaries representing the data.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Scales&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;scale_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Maps between the data and the aesthetic dimensions.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Coordinate System&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;coord_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Maps data into the plane of the data rectangle.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Facets&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;facet_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The arrangement of the data into a grid of plots.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Visual Themes&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;theme()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code&gt;theme_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The overall visual defaults of a plot.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Annotations&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;annotate()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Add additional labels, geometries or images to a plot.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

---

## Data: &lt;code style='color:#28a87d;font-weight:700;'&gt;ggplot(data)&lt;/code&gt;

We need to specify the data in the `ggplot()` call:


```r
*ggplot(data = data)
```

![](01-grammar_files/figure-html/structure-data-1.png)&lt;!-- --&gt;

--

There is only an empty panel because `ggplot2` doesn't know **what** of the data it should plot.

---

## Aesthetics: &lt;code style='color:#28a87d;font-weight:700;'&gt;aes()&lt;/code&gt;

We need to specify two variables we want to plot as positional `aes`thetics:


```r
*ggplot(data = data, mapping = aes(x = date, y = close))
```

![](01-grammar_files/figure-html/structure-aes-1.png)&lt;!-- --&gt;

--

There is only an empty panel because `ggplot2` doesn't know **how** it should plot the data.

---

## &lt;code style='color:#28a87d;font-weight:700;'&gt;ggplot(data, aes(x, y))&lt;/code&gt;

Thanks to implicit matching of arguments in `ggplot()` and `aes()`, we can also write:


```r
*ggplot(data, aes(date, close))
```

![](01-grammar_files/figure-html/structure-aes-implicit-1.png)&lt;!-- --&gt;

---

## Layers: &lt;b&gt;&lt;code&gt;geom\_\*()&lt;/code&gt;&amp;nbsp;&amp;nbsp;and&amp;nbsp;&amp;nbsp;&lt;code&gt;stat_*()&lt;/code&gt;&lt;/b&gt;

By adding one or multiple layers we can tell `ggplot2` *how*&amp;nbsp;&amp;nbsp;to represent the data.&lt;br&gt;
There are lots of build-in geometric elements (`geom's`) and statistical transformations (`stat's`):

&lt;p style="text-align:center;"&gt;&lt;img src="img/ggplot-layers.png" style="width: 54%"&gt;&lt;i style='font-size:10pt;color:grey;'&gt;Adapted from ggplot2.tidyverse.org/reference&lt;/i&gt;&lt;/p&gt;

---

## Layers: &lt;code style='color:#28a87d;font-weight:700;'&gt;geom_*()&lt;/code&gt;

We can tell `ggplot2` to represent the data for example as a **scatter plot**:


```r
ggplot(data, aes(date, close)) +
* geom_point()
```

![](01-grammar_files/figure-html/structure-geom-point-1.png)&lt;!-- --&gt;

---

## Layers: &lt;code style='color:#28a87d;font-weight:700;'&gt;geom_*()&lt;/code&gt;

... or as a **line plot** to visualize the data as time series:


```r
ggplot(data, aes(date, close)) +
* geom_line()
```

![](01-grammar_files/figure-html/structure-geom-line-1.png)&lt;!-- --&gt;

---

## Aesthetics: &lt;code style='color:#28a87d;font-weight:700;'&gt;aes()&lt;/code&gt;

Aesthetics do not only refer to x and y positions, but also groupings, colors, fills, shapes etc.


```r
*ggplot(data = data, mapping = aes(x = date, y = close, group = currency)) +
  geom_line()
```

![](01-grammar_files/figure-html/structure-aes-line-groups-1.png)&lt;!-- --&gt;

---

## Aesthetics: &lt;code style='color:#28a87d;font-weight:700;'&gt;aes()&lt;/code&gt;

Aesthetics do not only refer to x and y positions, but also groupings, colors, fills, shapes etc.


```r
*ggplot(data = data, mapping = aes(x = date, y = close, color = currency)) +
  geom_line()
```

![](01-grammar_files/figure-html/structure-aes-line-colors-1.png)&lt;!-- --&gt;

---

## Layers: &lt;code style='color:#28a87d;font-weight:700;'&gt;geom\_\*()&lt;/code&gt; and &lt;code style='color:#28a87d;font-weight:700;'&gt;stat_*()&lt;/code&gt;

The exciting thing about layers is that you can combine several `geom_*()` and `stat_*()` calls:


```r
ggplot(data, aes(date, close, color = currency)) +
* stat_smooth() +
* geom_point()
```

![](01-grammar_files/figure-html/structure-geom-point-smooth-1.png)&lt;!-- --&gt;

---

## Layers: &lt;code style='color:#28a87d;font-weight:700;'&gt;geom\_\*()&lt;/code&gt; and &lt;code style='color:#28a87d;font-weight:700;'&gt;stat_*()&lt;/code&gt;

... and aesthetics can be applied either **globally** or for each layer individually:


```r
*ggplot(data, aes(date, close, color = currency, shape = currency)) +
  stat_smooth() +
  geom_point()
```

![](01-grammar_files/figure-html/structure-geom-point-smooth-aes-global-1.png)&lt;!-- --&gt;

---

## Layers: &lt;code style='color:#28a87d;font-weight:700;'&gt;geom\_\*()&lt;/code&gt; and &lt;code style='color:#28a87d;font-weight:700;'&gt;stat_*()&lt;/code&gt;

... and aesthetics can be applied either globally or for each layer **individually**:


```r
ggplot(data, aes(date, close)) +
* stat_smooth(aes(color = currency)) +
* geom_point(aes(shape = currency))
```

![](01-grammar_files/figure-html/structure-geom-point-smooth-aes-individual-1.png)&lt;!-- --&gt;

---

## Exercise

* Import the data set on Chicago weather data:&lt;br&gt;https://raw.githubusercontent.com/z3tt/ggplot-courses/master/data/chicago-nmmaps.csv
  
* Inspect the data.

* Create a scatter plot of temperature (`temp`) versus day (`date`).

* Color the points by season (`season`).

* Color the points by year (`year`).
  + &lt;span style='color:grey;'&gt;What's the problem? How could you fix it?&lt;/span&gt;

--

* **Bonus:** Turn the scatter plot, colored by season, into a line plot.
  + &lt;span style='color:grey;'&gt;What's the problem? How could you fix it?&lt;/span&gt;

---

## Scales: &lt;code style='color:#28a87d;font-weight:700;'&gt;scales\_\*()&lt;/code&gt;

Scales are directly connected to aesthetics:

.pull-left[

```r
ggplot(data, aes(x = date, y = close, 
                 color = currency)) +
  stat_smooth() +
  geom_point() +
* scale_x_date() +
* scale_y_continuous() +
* scale_color_discrete()
```
]

.pull-right[
![](01-grammar_files/figure-html/plot-structure-scales-1.png)&lt;!-- --&gt;
]

---

## Scales: &lt;code style='color:#28a87d;font-weight:700;'&gt;scales\_\*()&lt;/code&gt;

Scales are directly connected to aesthetics:

.pull-left[

```r
ggplot(data, aes(x = date, y = close, 
                 color = currency)) +
  stat_smooth() +
  geom_point() +
  scale_x_date(
*   expand = c(0, 0),
*   date_breaks = "4 months",
*   date_labels = "%m/%y",
*   name = NULL
  ) +
  scale_y_continuous(
*   labels = scales::dollar_format(),
*   sec.axis = dup_axis(name = NULL),
*   name = "Closing Price"
  ) + 
  scale_color_discrete(
*   guide = "none"
  )
```
]

.pull-right[
![](01-grammar_files/figure-html/plot-structure-scales-adj-1.png)&lt;!-- --&gt;
]

---

## Coordinate Systems: &lt;code style='color:#28a87d;font-weight:700;'&gt;coord\_\*()&lt;/code&gt;

The coordinate system maps the two position to a 2d position on the plot:

.pull-left[

```r
ggplot(data, aes(x = date, y = close, 
                 color = currency)) +
  stat_smooth() +
  geom_point() +
  scale_x_date() + 
  scale_y_continuous() + 
  scale_color_discrete() +
* coord_cartesian()
```
]

.pull-right[
![](01-grammar_files/figure-html/plot-structure-coord-1.png)&lt;!-- --&gt;
]

---

## Coordinate Systems: &lt;code style='color:#28a87d;font-weight:700;'&gt;coord\_\*()&lt;/code&gt;

The coordinate system maps the two position to a 2d position on the plot:

.pull-left[

```r
ggplot(data, aes(x = date, y = close, 
                 color = currency)) +
  stat_smooth() +
  geom_point() +
  scale_x_date() + 
  scale_y_continuous() + 
  scale_color_discrete() +
* coord_polar()
```
]

.pull-right[
![](01-grammar_files/figure-html/plot-structure-coord-polar-1.png)&lt;!-- --&gt;
]

---

## Coordinate Systems: &lt;code style='color:#28a87d;font-weight:700;'&gt;coord\_\*()&lt;/code&gt;

Changing the limits on the coordinate system allows to zoom in:

.pull-left[

```r
ggplot(data, aes(x = date, y = close, 
                 color = currency)) +
  stat_smooth() +
  geom_point() +
  scale_x_date() + 
  scale_y_continuous() + 
  scale_color_discrete() +
  coord_cartesian(
*   xlim = c(as.Date("2018-11-01"),
*            as.Date("2019-11-01")),
*   ylim = c(NA, 100)
  )
```
]

.pull-right[
![](01-grammar_files/figure-html/plot-structure-coord-zoom-1.png)&lt;!-- --&gt;
]

---
class: center, middle

## Facets, Themes, and Annotations will follow later!



---
class: inverse, center, middle

# &lt;b style='font-size:70pt;color:lightgray;'&gt;APPENDIX&lt;/b&gt;&lt;br&gt;&lt;br&gt;

---

## Import the Data

The base R function `read.csv()` works in the same way as `readr::read_csv()`:


```r
data2 &lt;- read.csv(url)

data2
##         currency       date  open  high   low close year month yday
## 1   binance-coin 2019-12-04 15.35 15.69 15.01 15.28 2019    12  338
## 2   binance-coin 2019-12-03 15.19 15.55 15.05 15.31 2019    12  337
## 3   binance-coin 2019-12-02 15.51 15.71 15.15 15.19 2019    12  336
## 4   binance-coin 2019-12-01 15.74 15.74 15.05 15.50 2019    12  335
## 5   binance-coin 2019-11-30 16.26 16.37 15.54 15.72 2019    11  334
## 6   binance-coin 2019-11-29 15.68 16.34 15.65 16.27 2019    11  333
## 7   binance-coin 2019-11-28 16.10 16.23 15.65 15.68 2019    11  332
## 8   binance-coin 2019-11-27 15.49 16.20 14.94 16.10 2019    11  331
## 9   binance-coin 2019-11-26 15.27 15.86 15.23 15.53 2019    11  330
## 10  binance-coin 2019-11-25 15.29 15.74 14.20 15.27 2019    11  329
## 11  binance-coin 2019-11-24 16.40 16.49 15.28 15.28 2019    11  328
## 12  binance-coin 2019-11-23 15.58 16.47 15.15 16.42 2019    11  327
## 13  binance-coin 2019-11-22 16.84 17.27 14.69 15.58 2019    11  326
## 14  binance-coin 2019-11-21 18.16 18.19 16.62 16.84 2019    11  325
## 15  binance-coin 2019-11-20 18.71 18.93 17.85 18.17 2019    11  324
## 16  binance-coin 2019-11-19 19.31 19.63 18.38 18.70 2019    11  323
## 17  binance-coin 2019-11-18 20.34 20.43 18.94 19.32 2019    11  322
## 18  binance-coin 2019-11-17 20.28 20.62 20.03 20.26 2019    11  321
## 19  binance-coin 2019-11-16 20.32 20.63 20.09 20.28 2019    11  320
## 20  binance-coin 2019-11-15 21.24 21.29 20.18 20.32 2019    11  319
## 21  binance-coin 2019-11-14 21.28 21.51 20.97 21.26 2019    11  318
## 22  binance-coin 2019-11-13 20.87 21.64 20.71 21.25 2019    11  317
## 23  binance-coin 2019-11-12 20.14 20.86 20.09 20.86 2019    11  316
## 24  binance-coin 2019-11-11 20.48 20.64 19.92 20.13 2019    11  315
## 25  binance-coin 2019-11-10 19.73 20.63 19.73 20.48 2019    11  314
## 26  binance-coin 2019-11-09 19.68 19.98 19.60 19.74 2019    11  313
## 27  binance-coin 2019-11-08 20.69 20.69 19.47 19.69 2019    11  312
## 28  binance-coin 2019-11-07 20.81 20.96 20.25 20.65 2019    11  311
## 29  binance-coin 2019-11-06 20.72 20.92 20.28 20.82 2019    11  310
## 30  binance-coin 2019-11-05 20.74 20.92 20.45 20.72 2019    11  309
## 31  binance-coin 2019-11-04 20.23 20.92 20.18 20.74 2019    11  308
## 32  binance-coin 2019-11-03 20.27 20.43 19.89 20.21 2019    11  307
## 33  binance-coin 2019-11-02 20.02 20.40 19.86 20.27 2019    11  306
## 34  binance-coin 2019-11-01 19.99 20.06 19.78 20.02 2019    11  305
## 35  binance-coin 2019-10-31 20.10 20.40 19.54 20.00 2019    10  304
## 36  binance-coin 2019-10-30 20.49 20.58 19.23 20.09 2019    10  303
## 37  binance-coin 2019-10-29 19.81 20.92 19.70 20.48 2019    10  302
## 38  binance-coin 2019-10-28 19.34 20.90 19.31 19.76 2019    10  301
## 39  binance-coin 2019-10-27 18.89 19.59 18.57 19.35 2019    10  300
## 40  binance-coin 2019-10-26 18.63 19.78 18.18 18.89 2019    10  299
## 41  binance-coin 2019-10-25 17.07 18.91 16.48 18.62 2019    10  298
## 42  binance-coin 2019-10-24 16.71 17.16 16.49 16.89 2019    10  297
## 43  binance-coin 2019-10-23 18.20 18.30 16.42 16.71 2019    10  296
## 44  binance-coin 2019-10-22 18.30 18.80 18.17 18.20 2019    10  295
## 45  binance-coin 2019-10-21 18.46 18.51 18.06 18.31 2019    10  294
## 46  binance-coin 2019-10-20 18.29 18.57 17.88 18.44 2019    10  293
## 47  binance-coin 2019-10-19 18.25 18.51 17.97 18.29 2019    10  292
## 48  binance-coin 2019-10-18 18.58 18.75 17.81 18.25 2019    10  291
## 49  binance-coin 2019-10-17 17.84 18.76 17.71 18.57 2019    10  290
## 50  binance-coin 2019-10-16 18.52 18.60 17.52 17.84 2019    10  289
## 51  binance-coin 2019-10-15 18.43 19.15 18.20 18.54 2019    10  288
## 52  binance-coin 2019-10-14 18.31 18.62 17.95 18.46 2019    10  287
## 53  binance-coin 2019-10-13 17.26 18.76 17.18 18.31 2019    10  286
## 54  binance-coin 2019-10-12 16.71 17.51 16.69 17.28 2019    10  285
## 55  binance-coin 2019-10-11 17.57 17.63 16.71 16.71 2019    10  284
## 56  binance-coin 2019-10-10 17.80 17.95 17.13 17.57 2019    10  283
## 57  binance-coin 2019-10-09 16.11 17.97 16.01 17.81 2019    10  282
## 58  binance-coin 2019-10-08 16.14 16.35 15.89 16.11 2019    10  281
## 59  binance-coin 2019-10-07 15.34 16.19 15.19 16.13 2019    10  280
## 60  binance-coin 2019-10-06 15.72 15.75 15.26 15.35 2019    10  279
## 61  binance-coin 2019-10-05 15.75 15.80 15.47 15.72 2019    10  278
## 62  binance-coin 2019-10-04 15.72 15.90 15.50 15.76 2019    10  277
## 63  binance-coin 2019-10-03 15.95 16.01 15.43 15.73 2019    10  276
## 64  binance-coin 2019-10-02 15.91 15.97 15.67 15.95 2019    10  275
## 65  binance-coin 2019-10-01 15.88 16.29 15.78 15.90 2019    10  274
## 66  binance-coin 2019-09-30 15.31 15.87 14.87 15.86 2019     9  273
## 67  binance-coin 2019-09-29 15.85 15.92 15.14 15.31 2019     9  272
## 68  binance-coin 2019-09-28 15.79 15.96 15.56 15.85 2019     9  271
## 69  binance-coin 2019-09-27 15.46 15.82 14.93 15.79 2019     9  270
## 70  binance-coin 2019-09-26 16.26 16.59 14.84 15.46 2019     9  269
## 71  binance-coin 2019-09-25 16.06 16.60 15.20 16.26 2019     9  268
## 72  binance-coin 2019-09-24 19.48 19.63 15.98 16.07 2019     9  267
## 73  binance-coin 2019-09-23 20.53 20.53 19.47 19.49 2019     9  266
## 74  binance-coin 2019-09-22 21.09 21.09 20.26 20.53 2019     9  265
## 75  binance-coin 2019-09-21 21.38 21.54 20.99 21.08 2019     9  264
## 76  binance-coin 2019-09-20 21.63 21.64 21.09 21.37 2019     9  263
## 77  binance-coin 2019-09-19 22.24 22.49 20.63 21.61 2019     9  262
## 78  binance-coin 2019-09-18 21.01 22.90 21.01 22.26 2019     9  261
## 79  binance-coin 2019-09-17 20.40 21.36 20.28 21.01 2019     9  260
## 80  binance-coin 2019-09-16 20.60 20.97 20.20 20.40 2019     9  259
## 81  binance-coin 2019-09-15 21.07 21.13 20.60 20.60 2019     9  258
## 82  binance-coin 2019-09-14 20.90 21.20 20.88 21.07 2019     9  257
## 83  binance-coin 2019-09-13 20.93 21.31 20.64 20.89 2019     9  256
## 84  binance-coin 2019-09-12 20.89 21.03 19.96 20.92 2019     9  255
## 85  binance-coin 2019-09-11 21.91 22.04 20.77 20.90 2019     9  254
## 86  binance-coin 2019-09-10 22.29 22.41 21.63 21.91 2019     9  253
## 87  binance-coin 2019-09-09 22.57 22.65 21.98 22.29 2019     9  252
## 88  binance-coin 2019-09-08 22.57 22.83 22.38 22.56 2019     9  251
## 89  binance-coin 2019-09-07 22.14 22.67 22.07 22.55 2019     9  250
## 90  binance-coin 2019-09-06 22.76 23.42 21.82 22.15 2019     9  249
## 91  binance-coin 2019-09-05 21.82 23.54 21.57 22.76 2019     9  248
## 92  binance-coin 2019-09-04 22.53 22.67 21.67 21.80 2019     9  247
## 93  binance-coin 2019-09-03 22.76 22.93 22.37 22.51 2019     9  246
## 94  binance-coin 2019-09-02 21.57 22.89 21.20 22.77 2019     9  245
## 95  binance-coin 2019-09-01 21.26 21.78 21.17 21.57 2019     9  244
## 96  binance-coin 2019-08-31 22.21 22.44 21.19 21.27 2019     8  243
## 97  binance-coin 2019-08-30 21.89 22.62 21.64 22.22 2019     8  242
## 98  binance-coin 2019-08-29 23.69 23.69 21.82 21.89 2019     8  241
## 99  binance-coin 2019-08-28 25.70 26.02 23.69 23.70 2019     8  240
## 100 binance-coin 2019-08-27 26.12 26.15 25.10 25.69 2019     8  239
## 101 binance-coin 2019-08-26 26.14 27.08 25.86 26.11 2019     8  238
## 102 binance-coin 2019-08-25 26.49 26.53 25.87 26.13 2019     8  237
## 103 binance-coin 2019-08-24 27.16 27.16 26.23 26.50 2019     8  236
## 104 binance-coin 2019-08-23 27.09 27.39 26.85 27.17 2019     8  235
## 105 binance-coin 2019-08-22 26.99 27.45 26.43 27.09 2019     8  234
## 106 binance-coin 2019-08-21 28.17 28.17 26.59 26.99 2019     8  233
## 107 binance-coin 2019-08-20 28.81 28.81 28.06 28.17 2019     8  232
## 108 binance-coin 2019-08-19 27.95 29.06 27.82 28.81 2019     8  231
## 109 binance-coin 2019-08-18 27.49 28.10 27.18 27.93 2019     8  230
## 110 binance-coin 2019-08-17 27.65 27.94 27.14 27.48 2019     8  229
## 111 binance-coin 2019-08-16 28.06 28.08 26.90 27.64 2019     8  228
##  [ reached 'max' / getOption("max.print") -- omitted 2701 rows ]
```

---

## Import the Data

... and we can turn it into a **tibble** afterwards:


```r
data2 &lt;- tibble::as_tibble(data2)

data2
## # A tibble: 2,812 x 9
##    currency     date        open  high   low close  year month  yday
##    &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1 binance-coin 2019-12-04  15.4  15.7  15.0  15.3  2019    12   338
##  2 binance-coin 2019-12-03  15.2  15.6  15.0  15.3  2019    12   337
##  3 binance-coin 2019-12-02  15.5  15.7  15.2  15.2  2019    12   336
##  4 binance-coin 2019-12-01  15.7  15.7  15.0  15.5  2019    12   335
##  5 binance-coin 2019-11-30  16.3  16.4  15.5  15.7  2019    11   334
##  6 binance-coin 2019-11-29  15.7  16.3  15.6  16.3  2019    11   333
##  7 binance-coin 2019-11-28  16.1  16.2  15.6  15.7  2019    11   332
##  8 binance-coin 2019-11-27  15.5  16.2  14.9  16.1  2019    11   331
##  9 binance-coin 2019-11-26  15.3  15.9  15.2  15.5  2019    11   330
## 10 binance-coin 2019-11-25  15.3  15.7  14.2  15.3  2019    11   329
## # ... with 2,802 more rows
```

However, note that by default the date column is runed into type `character`.

---

## Import the Data

The `import()` function from the `{rio}` package allows to load all kind of data formats:


```r
data3 &lt;- rio::import(url)

data3
##         currency       date  open  high   low close year month yday
## 1   binance-coin 2019-12-04 15.35 15.69 15.01 15.28 2019    12  338
## 2   binance-coin 2019-12-03 15.19 15.55 15.05 15.31 2019    12  337
## 3   binance-coin 2019-12-02 15.51 15.71 15.15 15.19 2019    12  336
## 4   binance-coin 2019-12-01 15.74 15.74 15.05 15.50 2019    12  335
## 5   binance-coin 2019-11-30 16.26 16.37 15.54 15.72 2019    11  334
## 6   binance-coin 2019-11-29 15.68 16.34 15.65 16.27 2019    11  333
## 7   binance-coin 2019-11-28 16.10 16.23 15.65 15.68 2019    11  332
## 8   binance-coin 2019-11-27 15.49 16.20 14.94 16.10 2019    11  331
## 9   binance-coin 2019-11-26 15.27 15.86 15.23 15.53 2019    11  330
## 10  binance-coin 2019-11-25 15.29 15.74 14.20 15.27 2019    11  329
## 11  binance-coin 2019-11-24 16.40 16.49 15.28 15.28 2019    11  328
## 12  binance-coin 2019-11-23 15.58 16.47 15.15 16.42 2019    11  327
## 13  binance-coin 2019-11-22 16.84 17.27 14.69 15.58 2019    11  326
## 14  binance-coin 2019-11-21 18.16 18.19 16.62 16.84 2019    11  325
## 15  binance-coin 2019-11-20 18.71 18.93 17.85 18.17 2019    11  324
## 16  binance-coin 2019-11-19 19.31 19.63 18.38 18.70 2019    11  323
## 17  binance-coin 2019-11-18 20.34 20.43 18.94 19.32 2019    11  322
## 18  binance-coin 2019-11-17 20.28 20.62 20.03 20.26 2019    11  321
## 19  binance-coin 2019-11-16 20.32 20.63 20.09 20.28 2019    11  320
## 20  binance-coin 2019-11-15 21.24 21.29 20.18 20.32 2019    11  319
## 21  binance-coin 2019-11-14 21.28 21.51 20.97 21.26 2019    11  318
## 22  binance-coin 2019-11-13 20.87 21.64 20.71 21.25 2019    11  317
## 23  binance-coin 2019-11-12 20.14 20.86 20.09 20.86 2019    11  316
## 24  binance-coin 2019-11-11 20.48 20.64 19.92 20.13 2019    11  315
## 25  binance-coin 2019-11-10 19.73 20.63 19.73 20.48 2019    11  314
## 26  binance-coin 2019-11-09 19.68 19.98 19.60 19.74 2019    11  313
## 27  binance-coin 2019-11-08 20.69 20.69 19.47 19.69 2019    11  312
## 28  binance-coin 2019-11-07 20.81 20.96 20.25 20.65 2019    11  311
## 29  binance-coin 2019-11-06 20.72 20.92 20.28 20.82 2019    11  310
## 30  binance-coin 2019-11-05 20.74 20.92 20.45 20.72 2019    11  309
## 31  binance-coin 2019-11-04 20.23 20.92 20.18 20.74 2019    11  308
## 32  binance-coin 2019-11-03 20.27 20.43 19.89 20.21 2019    11  307
## 33  binance-coin 2019-11-02 20.02 20.40 19.86 20.27 2019    11  306
## 34  binance-coin 2019-11-01 19.99 20.06 19.78 20.02 2019    11  305
## 35  binance-coin 2019-10-31 20.10 20.40 19.54 20.00 2019    10  304
## 36  binance-coin 2019-10-30 20.49 20.58 19.23 20.09 2019    10  303
## 37  binance-coin 2019-10-29 19.81 20.92 19.70 20.48 2019    10  302
## 38  binance-coin 2019-10-28 19.34 20.90 19.31 19.76 2019    10  301
## 39  binance-coin 2019-10-27 18.89 19.59 18.57 19.35 2019    10  300
## 40  binance-coin 2019-10-26 18.63 19.78 18.18 18.89 2019    10  299
## 41  binance-coin 2019-10-25 17.07 18.91 16.48 18.62 2019    10  298
## 42  binance-coin 2019-10-24 16.71 17.16 16.49 16.89 2019    10  297
## 43  binance-coin 2019-10-23 18.20 18.30 16.42 16.71 2019    10  296
## 44  binance-coin 2019-10-22 18.30 18.80 18.17 18.20 2019    10  295
## 45  binance-coin 2019-10-21 18.46 18.51 18.06 18.31 2019    10  294
## 46  binance-coin 2019-10-20 18.29 18.57 17.88 18.44 2019    10  293
## 47  binance-coin 2019-10-19 18.25 18.51 17.97 18.29 2019    10  292
## 48  binance-coin 2019-10-18 18.58 18.75 17.81 18.25 2019    10  291
## 49  binance-coin 2019-10-17 17.84 18.76 17.71 18.57 2019    10  290
## 50  binance-coin 2019-10-16 18.52 18.60 17.52 17.84 2019    10  289
## 51  binance-coin 2019-10-15 18.43 19.15 18.20 18.54 2019    10  288
## 52  binance-coin 2019-10-14 18.31 18.62 17.95 18.46 2019    10  287
## 53  binance-coin 2019-10-13 17.26 18.76 17.18 18.31 2019    10  286
## 54  binance-coin 2019-10-12 16.71 17.51 16.69 17.28 2019    10  285
## 55  binance-coin 2019-10-11 17.57 17.63 16.71 16.71 2019    10  284
## 56  binance-coin 2019-10-10 17.80 17.95 17.13 17.57 2019    10  283
## 57  binance-coin 2019-10-09 16.11 17.97 16.01 17.81 2019    10  282
## 58  binance-coin 2019-10-08 16.14 16.35 15.89 16.11 2019    10  281
## 59  binance-coin 2019-10-07 15.34 16.19 15.19 16.13 2019    10  280
## 60  binance-coin 2019-10-06 15.72 15.75 15.26 15.35 2019    10  279
## 61  binance-coin 2019-10-05 15.75 15.80 15.47 15.72 2019    10  278
## 62  binance-coin 2019-10-04 15.72 15.90 15.50 15.76 2019    10  277
## 63  binance-coin 2019-10-03 15.95 16.01 15.43 15.73 2019    10  276
## 64  binance-coin 2019-10-02 15.91 15.97 15.67 15.95 2019    10  275
## 65  binance-coin 2019-10-01 15.88 16.29 15.78 15.90 2019    10  274
## 66  binance-coin 2019-09-30 15.31 15.87 14.87 15.86 2019     9  273
## 67  binance-coin 2019-09-29 15.85 15.92 15.14 15.31 2019     9  272
## 68  binance-coin 2019-09-28 15.79 15.96 15.56 15.85 2019     9  271
## 69  binance-coin 2019-09-27 15.46 15.82 14.93 15.79 2019     9  270
## 70  binance-coin 2019-09-26 16.26 16.59 14.84 15.46 2019     9  269
## 71  binance-coin 2019-09-25 16.06 16.60 15.20 16.26 2019     9  268
## 72  binance-coin 2019-09-24 19.48 19.63 15.98 16.07 2019     9  267
## 73  binance-coin 2019-09-23 20.53 20.53 19.47 19.49 2019     9  266
## 74  binance-coin 2019-09-22 21.09 21.09 20.26 20.53 2019     9  265
## 75  binance-coin 2019-09-21 21.38 21.54 20.99 21.08 2019     9  264
## 76  binance-coin 2019-09-20 21.63 21.64 21.09 21.37 2019     9  263
## 77  binance-coin 2019-09-19 22.24 22.49 20.63 21.61 2019     9  262
## 78  binance-coin 2019-09-18 21.01 22.90 21.01 22.26 2019     9  261
## 79  binance-coin 2019-09-17 20.40 21.36 20.28 21.01 2019     9  260
## 80  binance-coin 2019-09-16 20.60 20.97 20.20 20.40 2019     9  259
## 81  binance-coin 2019-09-15 21.07 21.13 20.60 20.60 2019     9  258
## 82  binance-coin 2019-09-14 20.90 21.20 20.88 21.07 2019     9  257
## 83  binance-coin 2019-09-13 20.93 21.31 20.64 20.89 2019     9  256
## 84  binance-coin 2019-09-12 20.89 21.03 19.96 20.92 2019     9  255
## 85  binance-coin 2019-09-11 21.91 22.04 20.77 20.90 2019     9  254
## 86  binance-coin 2019-09-10 22.29 22.41 21.63 21.91 2019     9  253
## 87  binance-coin 2019-09-09 22.57 22.65 21.98 22.29 2019     9  252
## 88  binance-coin 2019-09-08 22.57 22.83 22.38 22.56 2019     9  251
## 89  binance-coin 2019-09-07 22.14 22.67 22.07 22.55 2019     9  250
## 90  binance-coin 2019-09-06 22.76 23.42 21.82 22.15 2019     9  249
## 91  binance-coin 2019-09-05 21.82 23.54 21.57 22.76 2019     9  248
## 92  binance-coin 2019-09-04 22.53 22.67 21.67 21.80 2019     9  247
## 93  binance-coin 2019-09-03 22.76 22.93 22.37 22.51 2019     9  246
## 94  binance-coin 2019-09-02 21.57 22.89 21.20 22.77 2019     9  245
## 95  binance-coin 2019-09-01 21.26 21.78 21.17 21.57 2019     9  244
## 96  binance-coin 2019-08-31 22.21 22.44 21.19 21.27 2019     8  243
## 97  binance-coin 2019-08-30 21.89 22.62 21.64 22.22 2019     8  242
## 98  binance-coin 2019-08-29 23.69 23.69 21.82 21.89 2019     8  241
## 99  binance-coin 2019-08-28 25.70 26.02 23.69 23.70 2019     8  240
## 100 binance-coin 2019-08-27 26.12 26.15 25.10 25.69 2019     8  239
## 101 binance-coin 2019-08-26 26.14 27.08 25.86 26.11 2019     8  238
## 102 binance-coin 2019-08-25 26.49 26.53 25.87 26.13 2019     8  237
## 103 binance-coin 2019-08-24 27.16 27.16 26.23 26.50 2019     8  236
## 104 binance-coin 2019-08-23 27.09 27.39 26.85 27.17 2019     8  235
## 105 binance-coin 2019-08-22 26.99 27.45 26.43 27.09 2019     8  234
## 106 binance-coin 2019-08-21 28.17 28.17 26.59 26.99 2019     8  233
## 107 binance-coin 2019-08-20 28.81 28.81 28.06 28.17 2019     8  232
## 108 binance-coin 2019-08-19 27.95 29.06 27.82 28.81 2019     8  231
## 109 binance-coin 2019-08-18 27.49 28.10 27.18 27.93 2019     8  230
## 110 binance-coin 2019-08-17 27.65 27.94 27.14 27.48 2019     8  229
## 111 binance-coin 2019-08-16 28.06 28.08 26.90 27.64 2019     8  228
##  [ reached 'max' / getOption("max.print") -- omitted 2701 rows ]
```

---

## Import the Data

... and we can turn it into a **tibble** afterwards:


```r
data3 &lt;- tibble::as_tibble(data3)

data3
## # A tibble: 2,812 x 9
##    currency     date        open  high   low close  year month  yday
##    &lt;chr&gt;        &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1 binance-coin 2019-12-04  15.4  15.7  15.0  15.3  2019    12   338
##  2 binance-coin 2019-12-03  15.2  15.6  15.0  15.3  2019    12   337
##  3 binance-coin 2019-12-02  15.5  15.7  15.2  15.2  2019    12   336
##  4 binance-coin 2019-12-01  15.7  15.7  15.0  15.5  2019    12   335
##  5 binance-coin 2019-11-30  16.3  16.4  15.5  15.7  2019    11   334
##  6 binance-coin 2019-11-29  15.7  16.3  15.6  16.3  2019    11   333
##  7 binance-coin 2019-11-28  16.1  16.2  15.6  15.7  2019    11   332
##  8 binance-coin 2019-11-27  15.5  16.2  14.9  16.1  2019    11   331
##  9 binance-coin 2019-11-26  15.3  15.9  15.2  15.5  2019    11   330
## 10 binance-coin 2019-11-25  15.3  15.7  14.2  15.3  2019    11   329
## # ... with 2,802 more rows
```

---

## Import the Data

The `import()` function from the `{rio}` package allows to load all kind of data formats:


```r
data_xlsx &lt;- rio::import(here::here("data", "crypto_cleaned.xlsx"))

data_xlsx
##     ...1     currency       date  open  high   low close year month yday
## 1      1 binance-coin 2019-12-04 15.35 15.69 15.01 15.28 2019    12  338
## 2      2 binance-coin 2019-12-03 15.19 15.55 15.05 15.31 2019    12  337
## 3      3 binance-coin 2019-12-02 15.51 15.71 15.15 15.19 2019    12  336
## 4      4 binance-coin 2019-12-01 15.74 15.74 15.05 15.50 2019    12  335
## 5      5 binance-coin 2019-11-30 16.26 16.37 15.54 15.72 2019    11  334
## 6      6 binance-coin 2019-11-29 15.68 16.34 15.65 16.27 2019    11  333
## 7      7 binance-coin 2019-11-28 16.10 16.23 15.65 15.68 2019    11  332
## 8      8 binance-coin 2019-11-27 15.49 16.20 14.94 16.10 2019    11  331
## 9      9 binance-coin 2019-11-26 15.27 15.86 15.23 15.53 2019    11  330
## 10    10 binance-coin 2019-11-25 15.29 15.74 14.20 15.27 2019    11  329
## 11    11 binance-coin 2019-11-24 16.40 16.49 15.28 15.28 2019    11  328
## 12    12 binance-coin 2019-11-23 15.58 16.47 15.15 16.42 2019    11  327
## 13    13 binance-coin 2019-11-22 16.84 17.27 14.69 15.58 2019    11  326
## 14    14 binance-coin 2019-11-21 18.16 18.19 16.62 16.84 2019    11  325
## 15    15 binance-coin 2019-11-20 18.71 18.93 17.85 18.17 2019    11  324
## 16    16 binance-coin 2019-11-19 19.31 19.63 18.38 18.70 2019    11  323
## 17    17 binance-coin 2019-11-18 20.34 20.43 18.94 19.32 2019    11  322
## 18    18 binance-coin 2019-11-17 20.28 20.62 20.03 20.26 2019    11  321
## 19    19 binance-coin 2019-11-16 20.32 20.63 20.09 20.28 2019    11  320
## 20    20 binance-coin 2019-11-15 21.24 21.29 20.18 20.32 2019    11  319
## 21    21 binance-coin 2019-11-14 21.28 21.51 20.97 21.26 2019    11  318
## 22    22 binance-coin 2019-11-13 20.87 21.64 20.71 21.25 2019    11  317
## 23    23 binance-coin 2019-11-12 20.14 20.86 20.09 20.86 2019    11  316
## 24    24 binance-coin 2019-11-11 20.48 20.64 19.92 20.13 2019    11  315
## 25    25 binance-coin 2019-11-10 19.73 20.63 19.73 20.48 2019    11  314
## 26    26 binance-coin 2019-11-09 19.68 19.98 19.60 19.74 2019    11  313
## 27    27 binance-coin 2019-11-08 20.69 20.69 19.47 19.69 2019    11  312
## 28    28 binance-coin 2019-11-07 20.81 20.96 20.25 20.65 2019    11  311
## 29    29 binance-coin 2019-11-06 20.72 20.92 20.28 20.82 2019    11  310
## 30    30 binance-coin 2019-11-05 20.74 20.92 20.45 20.72 2019    11  309
## 31    31 binance-coin 2019-11-04 20.23 20.92 20.18 20.74 2019    11  308
## 32    32 binance-coin 2019-11-03 20.27 20.43 19.89 20.21 2019    11  307
## 33    33 binance-coin 2019-11-02 20.02 20.40 19.86 20.27 2019    11  306
## 34    34 binance-coin 2019-11-01 19.99 20.06 19.78 20.02 2019    11  305
## 35    35 binance-coin 2019-10-31 20.10 20.40 19.54 20.00 2019    10  304
## 36    36 binance-coin 2019-10-30 20.49 20.58 19.23 20.09 2019    10  303
## 37    37 binance-coin 2019-10-29 19.81 20.92 19.70 20.48 2019    10  302
## 38    38 binance-coin 2019-10-28 19.34 20.90 19.31 19.76 2019    10  301
## 39    39 binance-coin 2019-10-27 18.89 19.59 18.57 19.35 2019    10  300
## 40    40 binance-coin 2019-10-26 18.63 19.78 18.18 18.89 2019    10  299
## 41    41 binance-coin 2019-10-25 17.07 18.91 16.48 18.62 2019    10  298
## 42    42 binance-coin 2019-10-24 16.71 17.16 16.49 16.89 2019    10  297
## 43    43 binance-coin 2019-10-23 18.20 18.30 16.42 16.71 2019    10  296
## 44    44 binance-coin 2019-10-22 18.30 18.80 18.17 18.20 2019    10  295
## 45    45 binance-coin 2019-10-21 18.46 18.51 18.06 18.31 2019    10  294
## 46    46 binance-coin 2019-10-20 18.29 18.57 17.88 18.44 2019    10  293
## 47    47 binance-coin 2019-10-19 18.25 18.51 17.97 18.29 2019    10  292
## 48    48 binance-coin 2019-10-18 18.58 18.75 17.81 18.25 2019    10  291
## 49    49 binance-coin 2019-10-17 17.84 18.76 17.71 18.57 2019    10  290
## 50    50 binance-coin 2019-10-16 18.52 18.60 17.52 17.84 2019    10  289
## 51    51 binance-coin 2019-10-15 18.43 19.15 18.20 18.54 2019    10  288
## 52    52 binance-coin 2019-10-14 18.31 18.62 17.95 18.46 2019    10  287
## 53    53 binance-coin 2019-10-13 17.26 18.76 17.18 18.31 2019    10  286
## 54    54 binance-coin 2019-10-12 16.71 17.51 16.69 17.28 2019    10  285
## 55    55 binance-coin 2019-10-11 17.57 17.63 16.71 16.71 2019    10  284
## 56    56 binance-coin 2019-10-10 17.80 17.95 17.13 17.57 2019    10  283
## 57    57 binance-coin 2019-10-09 16.11 17.97 16.01 17.81 2019    10  282
## 58    58 binance-coin 2019-10-08 16.14 16.35 15.89 16.11 2019    10  281
## 59    59 binance-coin 2019-10-07 15.34 16.19 15.19 16.13 2019    10  280
## 60    60 binance-coin 2019-10-06 15.72 15.75 15.26 15.35 2019    10  279
## 61    61 binance-coin 2019-10-05 15.75 15.80 15.47 15.72 2019    10  278
## 62    62 binance-coin 2019-10-04 15.72 15.90 15.50 15.76 2019    10  277
## 63    63 binance-coin 2019-10-03 15.95 16.01 15.43 15.73 2019    10  276
## 64    64 binance-coin 2019-10-02 15.91 15.97 15.67 15.95 2019    10  275
## 65    65 binance-coin 2019-10-01 15.88 16.29 15.78 15.90 2019    10  274
## 66    66 binance-coin 2019-09-30 15.31 15.87 14.87 15.86 2019     9  273
## 67    67 binance-coin 2019-09-29 15.85 15.92 15.14 15.31 2019     9  272
## 68    68 binance-coin 2019-09-28 15.79 15.96 15.56 15.85 2019     9  271
## 69    69 binance-coin 2019-09-27 15.46 15.82 14.93 15.79 2019     9  270
## 70    70 binance-coin 2019-09-26 16.26 16.59 14.84 15.46 2019     9  269
## 71    71 binance-coin 2019-09-25 16.06 16.60 15.20 16.26 2019     9  268
## 72    72 binance-coin 2019-09-24 19.48 19.63 15.98 16.07 2019     9  267
## 73    73 binance-coin 2019-09-23 20.53 20.53 19.47 19.49 2019     9  266
## 74    74 binance-coin 2019-09-22 21.09 21.09 20.26 20.53 2019     9  265
## 75    75 binance-coin 2019-09-21 21.38 21.54 20.99 21.08 2019     9  264
## 76    76 binance-coin 2019-09-20 21.63 21.64 21.09 21.37 2019     9  263
## 77    77 binance-coin 2019-09-19 22.24 22.49 20.63 21.61 2019     9  262
## 78    78 binance-coin 2019-09-18 21.01 22.90 21.01 22.26 2019     9  261
## 79    79 binance-coin 2019-09-17 20.40 21.36 20.28 21.01 2019     9  260
## 80    80 binance-coin 2019-09-16 20.60 20.97 20.20 20.40 2019     9  259
## 81    81 binance-coin 2019-09-15 21.07 21.13 20.60 20.60 2019     9  258
## 82    82 binance-coin 2019-09-14 20.90 21.20 20.88 21.07 2019     9  257
## 83    83 binance-coin 2019-09-13 20.93 21.31 20.64 20.89 2019     9  256
## 84    84 binance-coin 2019-09-12 20.89 21.03 19.96 20.92 2019     9  255
## 85    85 binance-coin 2019-09-11 21.91 22.04 20.77 20.90 2019     9  254
## 86    86 binance-coin 2019-09-10 22.29 22.41 21.63 21.91 2019     9  253
## 87    87 binance-coin 2019-09-09 22.57 22.65 21.98 22.29 2019     9  252
## 88    88 binance-coin 2019-09-08 22.57 22.83 22.38 22.56 2019     9  251
## 89    89 binance-coin 2019-09-07 22.14 22.67 22.07 22.55 2019     9  250
## 90    90 binance-coin 2019-09-06 22.76 23.42 21.82 22.15 2019     9  249
## 91    91 binance-coin 2019-09-05 21.82 23.54 21.57 22.76 2019     9  248
## 92    92 binance-coin 2019-09-04 22.53 22.67 21.67 21.80 2019     9  247
## 93    93 binance-coin 2019-09-03 22.76 22.93 22.37 22.51 2019     9  246
## 94    94 binance-coin 2019-09-02 21.57 22.89 21.20 22.77 2019     9  245
## 95    95 binance-coin 2019-09-01 21.26 21.78 21.17 21.57 2019     9  244
## 96    96 binance-coin 2019-08-31 22.21 22.44 21.19 21.27 2019     8  243
## 97    97 binance-coin 2019-08-30 21.89 22.62 21.64 22.22 2019     8  242
## 98    98 binance-coin 2019-08-29 23.69 23.69 21.82 21.89 2019     8  241
## 99    99 binance-coin 2019-08-28 25.70 26.02 23.69 23.70 2019     8  240
## 100  100 binance-coin 2019-08-27 26.12 26.15 25.10 25.69 2019     8  239
##  [ reached 'max' / getOption("max.print") -- omitted 2712 rows ]
```

---

## Import the Data

We can remove the first column by using the `select()` function from the `{dplyr}` package:


```r
data_xlsx &lt;- dplyr::select(data_xlsx, -1)
#data_xlsx &lt;- dplyr::select(data_xlsx, currency:yday)

data_xlsx
##         currency       date  open  high   low close year month yday
## 1   binance-coin 2019-12-04 15.35 15.69 15.01 15.28 2019    12  338
## 2   binance-coin 2019-12-03 15.19 15.55 15.05 15.31 2019    12  337
## 3   binance-coin 2019-12-02 15.51 15.71 15.15 15.19 2019    12  336
## 4   binance-coin 2019-12-01 15.74 15.74 15.05 15.50 2019    12  335
## 5   binance-coin 2019-11-30 16.26 16.37 15.54 15.72 2019    11  334
## 6   binance-coin 2019-11-29 15.68 16.34 15.65 16.27 2019    11  333
## 7   binance-coin 2019-11-28 16.10 16.23 15.65 15.68 2019    11  332
## 8   binance-coin 2019-11-27 15.49 16.20 14.94 16.10 2019    11  331
## 9   binance-coin 2019-11-26 15.27 15.86 15.23 15.53 2019    11  330
## 10  binance-coin 2019-11-25 15.29 15.74 14.20 15.27 2019    11  329
## 11  binance-coin 2019-11-24 16.40 16.49 15.28 15.28 2019    11  328
## 12  binance-coin 2019-11-23 15.58 16.47 15.15 16.42 2019    11  327
## 13  binance-coin 2019-11-22 16.84 17.27 14.69 15.58 2019    11  326
## 14  binance-coin 2019-11-21 18.16 18.19 16.62 16.84 2019    11  325
## 15  binance-coin 2019-11-20 18.71 18.93 17.85 18.17 2019    11  324
## 16  binance-coin 2019-11-19 19.31 19.63 18.38 18.70 2019    11  323
## 17  binance-coin 2019-11-18 20.34 20.43 18.94 19.32 2019    11  322
## 18  binance-coin 2019-11-17 20.28 20.62 20.03 20.26 2019    11  321
## 19  binance-coin 2019-11-16 20.32 20.63 20.09 20.28 2019    11  320
## 20  binance-coin 2019-11-15 21.24 21.29 20.18 20.32 2019    11  319
## 21  binance-coin 2019-11-14 21.28 21.51 20.97 21.26 2019    11  318
## 22  binance-coin 2019-11-13 20.87 21.64 20.71 21.25 2019    11  317
## 23  binance-coin 2019-11-12 20.14 20.86 20.09 20.86 2019    11  316
## 24  binance-coin 2019-11-11 20.48 20.64 19.92 20.13 2019    11  315
## 25  binance-coin 2019-11-10 19.73 20.63 19.73 20.48 2019    11  314
## 26  binance-coin 2019-11-09 19.68 19.98 19.60 19.74 2019    11  313
## 27  binance-coin 2019-11-08 20.69 20.69 19.47 19.69 2019    11  312
## 28  binance-coin 2019-11-07 20.81 20.96 20.25 20.65 2019    11  311
## 29  binance-coin 2019-11-06 20.72 20.92 20.28 20.82 2019    11  310
## 30  binance-coin 2019-11-05 20.74 20.92 20.45 20.72 2019    11  309
## 31  binance-coin 2019-11-04 20.23 20.92 20.18 20.74 2019    11  308
## 32  binance-coin 2019-11-03 20.27 20.43 19.89 20.21 2019    11  307
## 33  binance-coin 2019-11-02 20.02 20.40 19.86 20.27 2019    11  306
## 34  binance-coin 2019-11-01 19.99 20.06 19.78 20.02 2019    11  305
## 35  binance-coin 2019-10-31 20.10 20.40 19.54 20.00 2019    10  304
## 36  binance-coin 2019-10-30 20.49 20.58 19.23 20.09 2019    10  303
## 37  binance-coin 2019-10-29 19.81 20.92 19.70 20.48 2019    10  302
## 38  binance-coin 2019-10-28 19.34 20.90 19.31 19.76 2019    10  301
## 39  binance-coin 2019-10-27 18.89 19.59 18.57 19.35 2019    10  300
## 40  binance-coin 2019-10-26 18.63 19.78 18.18 18.89 2019    10  299
## 41  binance-coin 2019-10-25 17.07 18.91 16.48 18.62 2019    10  298
## 42  binance-coin 2019-10-24 16.71 17.16 16.49 16.89 2019    10  297
## 43  binance-coin 2019-10-23 18.20 18.30 16.42 16.71 2019    10  296
## 44  binance-coin 2019-10-22 18.30 18.80 18.17 18.20 2019    10  295
## 45  binance-coin 2019-10-21 18.46 18.51 18.06 18.31 2019    10  294
## 46  binance-coin 2019-10-20 18.29 18.57 17.88 18.44 2019    10  293
## 47  binance-coin 2019-10-19 18.25 18.51 17.97 18.29 2019    10  292
## 48  binance-coin 2019-10-18 18.58 18.75 17.81 18.25 2019    10  291
## 49  binance-coin 2019-10-17 17.84 18.76 17.71 18.57 2019    10  290
## 50  binance-coin 2019-10-16 18.52 18.60 17.52 17.84 2019    10  289
## 51  binance-coin 2019-10-15 18.43 19.15 18.20 18.54 2019    10  288
## 52  binance-coin 2019-10-14 18.31 18.62 17.95 18.46 2019    10  287
## 53  binance-coin 2019-10-13 17.26 18.76 17.18 18.31 2019    10  286
## 54  binance-coin 2019-10-12 16.71 17.51 16.69 17.28 2019    10  285
## 55  binance-coin 2019-10-11 17.57 17.63 16.71 16.71 2019    10  284
## 56  binance-coin 2019-10-10 17.80 17.95 17.13 17.57 2019    10  283
## 57  binance-coin 2019-10-09 16.11 17.97 16.01 17.81 2019    10  282
## 58  binance-coin 2019-10-08 16.14 16.35 15.89 16.11 2019    10  281
## 59  binance-coin 2019-10-07 15.34 16.19 15.19 16.13 2019    10  280
## 60  binance-coin 2019-10-06 15.72 15.75 15.26 15.35 2019    10  279
## 61  binance-coin 2019-10-05 15.75 15.80 15.47 15.72 2019    10  278
## 62  binance-coin 2019-10-04 15.72 15.90 15.50 15.76 2019    10  277
## 63  binance-coin 2019-10-03 15.95 16.01 15.43 15.73 2019    10  276
## 64  binance-coin 2019-10-02 15.91 15.97 15.67 15.95 2019    10  275
## 65  binance-coin 2019-10-01 15.88 16.29 15.78 15.90 2019    10  274
## 66  binance-coin 2019-09-30 15.31 15.87 14.87 15.86 2019     9  273
## 67  binance-coin 2019-09-29 15.85 15.92 15.14 15.31 2019     9  272
## 68  binance-coin 2019-09-28 15.79 15.96 15.56 15.85 2019     9  271
## 69  binance-coin 2019-09-27 15.46 15.82 14.93 15.79 2019     9  270
## 70  binance-coin 2019-09-26 16.26 16.59 14.84 15.46 2019     9  269
## 71  binance-coin 2019-09-25 16.06 16.60 15.20 16.26 2019     9  268
## 72  binance-coin 2019-09-24 19.48 19.63 15.98 16.07 2019     9  267
## 73  binance-coin 2019-09-23 20.53 20.53 19.47 19.49 2019     9  266
## 74  binance-coin 2019-09-22 21.09 21.09 20.26 20.53 2019     9  265
## 75  binance-coin 2019-09-21 21.38 21.54 20.99 21.08 2019     9  264
## 76  binance-coin 2019-09-20 21.63 21.64 21.09 21.37 2019     9  263
## 77  binance-coin 2019-09-19 22.24 22.49 20.63 21.61 2019     9  262
## 78  binance-coin 2019-09-18 21.01 22.90 21.01 22.26 2019     9  261
## 79  binance-coin 2019-09-17 20.40 21.36 20.28 21.01 2019     9  260
## 80  binance-coin 2019-09-16 20.60 20.97 20.20 20.40 2019     9  259
## 81  binance-coin 2019-09-15 21.07 21.13 20.60 20.60 2019     9  258
## 82  binance-coin 2019-09-14 20.90 21.20 20.88 21.07 2019     9  257
## 83  binance-coin 2019-09-13 20.93 21.31 20.64 20.89 2019     9  256
## 84  binance-coin 2019-09-12 20.89 21.03 19.96 20.92 2019     9  255
## 85  binance-coin 2019-09-11 21.91 22.04 20.77 20.90 2019     9  254
## 86  binance-coin 2019-09-10 22.29 22.41 21.63 21.91 2019     9  253
## 87  binance-coin 2019-09-09 22.57 22.65 21.98 22.29 2019     9  252
## 88  binance-coin 2019-09-08 22.57 22.83 22.38 22.56 2019     9  251
## 89  binance-coin 2019-09-07 22.14 22.67 22.07 22.55 2019     9  250
## 90  binance-coin 2019-09-06 22.76 23.42 21.82 22.15 2019     9  249
## 91  binance-coin 2019-09-05 21.82 23.54 21.57 22.76 2019     9  248
## 92  binance-coin 2019-09-04 22.53 22.67 21.67 21.80 2019     9  247
## 93  binance-coin 2019-09-03 22.76 22.93 22.37 22.51 2019     9  246
## 94  binance-coin 2019-09-02 21.57 22.89 21.20 22.77 2019     9  245
## 95  binance-coin 2019-09-01 21.26 21.78 21.17 21.57 2019     9  244
## 96  binance-coin 2019-08-31 22.21 22.44 21.19 21.27 2019     8  243
## 97  binance-coin 2019-08-30 21.89 22.62 21.64 22.22 2019     8  242
## 98  binance-coin 2019-08-29 23.69 23.69 21.82 21.89 2019     8  241
## 99  binance-coin 2019-08-28 25.70 26.02 23.69 23.70 2019     8  240
## 100 binance-coin 2019-08-27 26.12 26.15 25.10 25.69 2019     8  239
## 101 binance-coin 2019-08-26 26.14 27.08 25.86 26.11 2019     8  238
## 102 binance-coin 2019-08-25 26.49 26.53 25.87 26.13 2019     8  237
## 103 binance-coin 2019-08-24 27.16 27.16 26.23 26.50 2019     8  236
## 104 binance-coin 2019-08-23 27.09 27.39 26.85 27.17 2019     8  235
## 105 binance-coin 2019-08-22 26.99 27.45 26.43 27.09 2019     8  234
## 106 binance-coin 2019-08-21 28.17 28.17 26.59 26.99 2019     8  233
## 107 binance-coin 2019-08-20 28.81 28.81 28.06 28.17 2019     8  232
## 108 binance-coin 2019-08-19 27.95 29.06 27.82 28.81 2019     8  231
## 109 binance-coin 2019-08-18 27.49 28.10 27.18 27.93 2019     8  230
## 110 binance-coin 2019-08-17 27.65 27.94 27.14 27.48 2019     8  229
## 111 binance-coin 2019-08-16 28.06 28.08 26.90 27.64 2019     8  228
##  [ reached 'max' / getOption("max.print") -- omitted 2701 rows ]
```

---

## Import the Data

... and turn it into a **tibble** afterwards:


```r
data_xlsx &lt;- tibble::as_tibble(data_xlsx)

data_xlsx
## # A tibble: 2,812 x 9
##    currency     date                 open  high   low close  year month  yday
##    &lt;chr&gt;        &lt;dttm&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 binance-coin 2019-12-04 00:00:00  15.4  15.7  15.0  15.3  2019    12   338
##  2 binance-coin 2019-12-03 00:00:00  15.2  15.6  15.0  15.3  2019    12   337
##  3 binance-coin 2019-12-02 00:00:00  15.5  15.7  15.2  15.2  2019    12   336
##  4 binance-coin 2019-12-01 00:00:00  15.7  15.7  15.0  15.5  2019    12   335
##  5 binance-coin 2019-11-30 00:00:00  16.3  16.4  15.5  15.7  2019    11   334
##  6 binance-coin 2019-11-29 00:00:00  15.7  16.3  15.6  16.3  2019    11   333
##  7 binance-coin 2019-11-28 00:00:00  16.1  16.2  15.6  15.7  2019    11   332
##  8 binance-coin 2019-11-27 00:00:00  15.5  16.2  14.9  16.1  2019    11   331
##  9 binance-coin 2019-11-26 00:00:00  15.3  15.9  15.2  15.5  2019    11   330
## 10 binance-coin 2019-11-25 00:00:00  15.3  15.7  14.2  15.3  2019    11   329
## # ... with 2,802 more rows
```

---

## Import the Data

Of course, one can load local files as well. Preferably with the help of the `{here}` package and R projects:


```r
here::here()
## [1] "C:/Users/DataVizard/Google Drive/Work/DataViz/Teaching/2021_OReilly_Trainings/hands-on-ggplot2"

data_local &lt;- readr::read_csv(here::here("data", "crypto_cleaned.csv"))

data_local
## # A tibble: 2,812 x 9
##    currency     date        open  high   low close  year month  yday
##    &lt;chr&gt;        &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 binance-coin 2019-12-04  15.4  15.7  15.0  15.3  2019    12   338
##  2 binance-coin 2019-12-03  15.2  15.6  15.0  15.3  2019    12   337
##  3 binance-coin 2019-12-02  15.5  15.7  15.2  15.2  2019    12   336
##  4 binance-coin 2019-12-01  15.7  15.7  15.0  15.5  2019    12   335
##  5 binance-coin 2019-11-30  16.3  16.4  15.5  15.7  2019    11   334
##  6 binance-coin 2019-11-29  15.7  16.3  15.6  16.3  2019    11   333
##  7 binance-coin 2019-11-28  16.1  16.2  15.6  15.7  2019    11   332
##  8 binance-coin 2019-11-27  15.5  16.2  14.9  16.1  2019    11   331
##  9 binance-coin 2019-11-26  15.3  15.9  15.2  15.5  2019    11   330
## 10 binance-coin 2019-11-25  15.3  15.7  14.2  15.3  2019    11   329
## # ... with 2,802 more rows
```

---

## &lt;code style='color:#28a87d;font-weight:700;'&gt;ggplot(data) + aes(x, y)&lt;/code&gt;

Some prefer to place the `aes()` outside the `ggplot()` call:


```r
*ggplot(data) +
* aes(x = date, y = close)
```

![](01-grammar_files/figure-html/structure-aes-outside-1.png)&lt;!-- --&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"slideNumberFormat": "<div class=\"progress-bar-container\">\n  <div class=\"progress-bar\" style=\"width: calc(%current% / %total% * 100%);\">\n  </div>\n</div>\n",
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
